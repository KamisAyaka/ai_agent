### 智能老师助手项目 README

#### 项目简介
本项目是一个基于云计算系统的智能老师助手，旨在为用户提供个性化的语文、数学和英语教学服务。用户可以通过登录界面注册并登录，然后选择不同的老师进行互动交流。系统会根据用户的输入调用相应的AI模型生成回复，并将对话记录保存到云端存储中。

#### 文件结构
- **config.py**: 配置文件，包含API密钥和其他环境变量设置。
- **main.py**: 主程序入口，定义了Flask应用的基本路由和功能逻辑。
- **templates/**: 包含HTML模板文件，用于渲染前端页面。
  - `login.html`: 用户登录页面。
  - `register.html`: 用户注册页面。
  - `index.html`: 首页，提供选择不同老师的界面。
  - `dashboard.html`: 用户仪表盘，显示聊天历史和输入框。
- **teacher/**: 包含各个学科老师的实现代码。
  - `Chinese_agent.py`: 语文老师的具体实现，包括诗词分析、作文评分等功能。
  - `English_agent.py`: 英语老师的具体实现，包括语法检查、情感分析等功能。
  - `Math_agent.py`: 数学老师的具体实现，主要处理数学问题的解答。

#### 功能模块说明
1. **用户管理**
   - 支持用户注册、登录、登出操作。
   - 用户信息保存在OBS（华为云对象存储服务）中，确保数据安全性和持久化。

2. **多学科老师**
   - 提供三种类型的老师：语文、数学和英语。
   - 每个老师都有自己的工作流图（StateGraph），用于管理和调度不同的处理节点。

3. **AI交互**
   - 使用预训练的语言模型来生成自然语言回复。
   - 集成了TavilySearchResults工具，可以搜索互联网上的相关信息辅助回答。

4. **对话管理**
   - 对话记录会自动保存到OBS中，方便用户随时查看历史记录。
   - 支持从OBS加载之前的对话内容，保持上下文连贯性。

5. **前端交互**
   - 页面设计简洁友好，支持响应式布局适配不同设备。
   - 实现了AJAX异步请求，提升了用户体验流畅度。

#### 运行环境要求
- Python 3.x
- Flask框架
- langchain库及相关依赖项
- OBS客户端库（如`obs`包）

#### 安装与部署
1. 克隆仓库并进入项目目录：
   ```bash
   git clone https://github.com/KamisAyaka/ai_agent.git
   cd ai_agent
   ```

2. 创建虚拟环境并安装依赖：
   ```bash
   python -m venv venv
   source venv/bin/activate  # Windows: venv\Scripts\activate
   pip install -r requirements.txt
   ```

3. 设置必要的环境变量（参考`config.py`中的示例）。
- 本代码使用智谱大语言模型，需要申请API密钥。ZHIPUAI_API_KEY设置为申请得到的API密钥，也可以替换成其他的大语言模型。
- OBS_ACCESS_KEY和OBS_SECRET_KEY设置为OBS的访问密钥和密钥。本代码基于华为云平台来完成云端的储存。请将这两处密钥替换成自己申请的API密钥。

4. 启动应用程序：
   ```bash
   python main.py
   ```


#### 注意事项
- 请确保所有API密钥已正确配置，以避免运行时错误。
- 在生产环境中，请勿直接暴露敏感信息，建议使用更安全的方式管理密钥。

---